<style>
	#d_tourdefrance {
		width: 100%;
		margin-top: 20px;
		box-sizing: border-box;
		justify-content: center;
	}

	#d_tourdefrance .d_theantiqua {
		font-family: "The Antiqua B", "The Antiqua", Georgia, "Droid-serif", serif;
	}

	#d_tourdefrance .d_marrsans {
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
	}

	#d_tourdefrance .d_marrsanscondensed {
		font-family: "Marr Sans Condensed", "Fette", "Helvetica Neue", Helvetica, arial, sans_serif;
	}

	#d_tourdefrance .grasdecodeurs {
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 105%;
		font-weight: 600;
	}

	#d_tourdefrance .d_titre {
		color: #2a303b;
		margin-top: 10px;
		padding: .4em 0;
		display: block;
	}

	/* title */
	.d_title {
    text-align: center;
    color: #383f4e;
    margin: 20px 0 20px;
    font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
    font-size:1.6rem;
    line-height: 1.8rem;
	}

	.d_title::after {
    content: " ";
    display: block;
    width: 100%;
    height: 1px;
    margin: 20px 0;
    background-color: #e2e4e9;
	}

	.d_title h2 {
    font-size: 2em;
    font-weight: 600;
    line-height: 1.1;
    margin: 0 0 2rem 0;
	}

	.d_title  p {
    opacity: .7;
	}

	/* main container */
	@media only screen and (max-device-width: 800px) {
		.d_legend_inside {
			padding: 0% 2% 0% 2%;
			margin: 0;
			text-align: center;
		}

	}
	@media only screen and (max-device-width: 1024px) {
		.d_container {
			margin: 0 auto;
			padding: 5%;
			max-width: 65rem;
		}
		.d_selectcontainer {
			display: block;
		}
		.d_slidecontainer {
			display: none;
		}
		.d_instructionmobile {
			display: block;
		}
		.d_instructiondesktop {
			display: none;
		}
		.d_legend_inside {
			padding: 0% 2% 0% 2%;
			margin: auto;
			text-align: center;
		}
	}

	@media only screen and (min-device-width: 1024px) {
		.d_container {
			margin: 0 auto;
			max-width: 65rem;
		}
		.d_selectcontainer {
			display: none;
		}
		.d_slidecontainer {
			display: block;
		}
		.d_instructionmobile {
			display: none;
		}
		.d_instructiondesktop {
			display: block;
		}
		.d_legend_inside {
			padding: 0% 2% 0% 2%;
			margin: auto;
			text-align: center;
		}
	}

	/* select for mobile */
	.d_select {
		padding: 1%;
		width: 80%;
		background-color: #EDEFF1;
		border-radius: 3px;
		border: none;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
	}

	/* war exception */
	#d_noteWar1, #d_noteWar2 {
		display: none;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 1.6rem;
	}

	/* legend */
	.d_legend {
		display:flex;
		flex-direction: row;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 1.2rem;
	}

	/* create slider input */
	.d_search_container {
		padding: 1%;
		width: 100%;
		font-size: 3rem;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		text-align: center;
	}

	.d_slider {
		-webkit-appearance: none;
		width: 100%;
		height: 10px;
		border-radius: 5px;
		background: #d3d3d3;
		outline: none;
		opacity: 0.7;
		-webkit-transition: .2s;
		transition: opacity .2s;
	}

	.d_slider:hover {
		opacity: 1;
	}

	.d_slider::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 25px;
		height: 25px;
		border-radius: 50%;
		background: #383f4e;
		cursor: pointer;
	}

	.d_slider::-moz-range-thumb {
		width: 25px;
		height: 25px;
		border-radius: 50%;
		background: #383f4e;
		cursor: pointer;
	}

	/* result box */
	.d_result {
		border-left: 3px solid #EDEFF1;
		padding-left: 2%;
		padding-right: 2%;
	}

	/* style jerseys */
	.d_jerseybox {
		display: none;
		border: 1px solid #e8eaee;
		background-color: #ffffff;
		padding-bottom: 3%;
		margin-top: 1%;
		margin-bottom: 2%;
		border-radius: 3px;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 1.4rem;
	}

	.d_jerseybox_title {
		display: block;
		padding-left: 2%;
		padding-top: 2%;
	}

	.d_alljerseys {
		display: flex;
		flex-wrap: wrap;
	}

	.d_jersey {
		display: flex;
		flex-grow: 1;
		position: relative;
		flex-direction: column;
		align-items: center;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 1.4rem;
	}

	/* wrap text under jerseys */
	.d_wrap {
		text-align: center;
		max-width: 200px;
		padding-right: 2%;
		padding-left: 2%;
	}

	/* important numbers for each year */
	.d_databox {
		display: none;
		border: 1px solid #e8eaee;
		background-color: #ffffff;
		padding-top: 2%;
		padding-bottom: 3%;
		padding-left: 2%;
		margin-top: 2%;
		margin-bottom: 2%;
		border-radius: 3px;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 1.4rem;
	}

	.d_databox_title {
		display: block;
	}

	.d_allnumbers {
		display: flex;
		flex-wrap: wrap;
		padding-top: 2%;
		padding-bottom: 2%;
	}

	.d_number {
		display: flex;
		flex-grow: 1;
		position: relative;
		flex-direction: column;
		padding: 1% 1% 1% 3%;
		align-items: left;
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		font-size: 1.5rem;
	}

	#d_numberraces, #d_distance, #d_average {
		font-weight: bold;
		font-size: 2.5rem;
	}

	#d_tourdefrance .d_texte {
		margin: 1em 0;
		padding: 0;
	}

	#d_tourdefrance .d_explications {
		font-family: "Marr Sans", "Helvetica Neue", Helvetica, Arial;
		margin: 2em auto;
		padding: 1em 1.5em;
		border-radius: 2px;
		font-size: 80%;
		color: #3f4142;
		background-color: #f3f3f4;
	}

	#d_tourdefrance .source {
		border-top: 1px solid #E2E4E9;
		border-bottom: 1px solid #E2E4E9;
		margin: 1%;
		padding: 15px 0;
		color: #717B8E;
		font-size: 90%;
	}

	#d_tourdefrance .passelect {
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	#d_tourdefrance span.desktop {
		display: inline;
	}

	#d_tourdefrance span.mobile {
		display: none;
	}

</style>

<div id="d_tourdefrance">
	<div class="d_container">
		<div class="d_title">
			<h2>Affichez le palmarès du Tour par année</h2>
			<p>Pour chaque édition, (re)découvrez les faits marquants du Tour.</p>
			<p class="d_instructiondesktop">Faites glisser le curseur pour choisir une année.</p>
			<p class="d_instructionmobile">Sélectionnez une année pour afficher le palmarès.</p>
		</div>
		<div class="d_legend">
			<div class="d_legend_inside">
				<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
					<circle cx="13" cy="13" r="13" style="fill:#FCF424;"/>
				</svg>
				<p>Vainqueur</p>
			</div>
			<div class="d_legend_inside">
				<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
					<circle cx="13" cy="13" r="13" style="fill:#65CB86;"/>
				</svg>
				<p>Meilleur sprinter</p>
			</div>
			<div class="d_legend_inside">
				<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
					<pattern id="p_dots" x="12.5" y="12.5" width="25" height="25" style="fill:#E82D2D" patternUnits="userSpaceOnUse">
						<circle cx="10" cy="10" r="10" />
					</pattern>
					<circle cx="13" cy="13" r="13" style="fill:url(#p_dots);"/>
				</svg>
				<p>Meilleur grimpeur</p>
			</div>
			<div class="d_legend_inside">
				<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
					<circle cx="13" cy="13" r="13" style="fill:#FFFFFF;stroke:#9B9B9B;stroke-width:0.7;stroke-linejoin:round;stroke-miterlimit:4;"/>
				</svg>
				<p>Meilleur jeune</p>
			</div>
			<div class="d_legend_inside">
				<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
					<circle cx="13" cy="13" r="13" style="fill:#E82D2D;"/>
				</svg>
				<p>Combatif</p>
			</div>
		</div>
		<div class="d_search_container">
			<form>
				<div class="d_slidecontainer">
					<p id="d_inputValue"></p>
					<input type="range" min="1903" max="2019" value="2019" class="d_slider" id="d_yearRange">
				</div>
				<div class="d_selectcontainer">
					<select class="d_select" name="d_selYear" id="d_yearMobile">
						<option value="2019" selected>2019</option>
						<option value="2018">2018</option>
						<option value="2017">2017</option>
						<option value="2016">2016</option>
						<option value="2015">2015</option>
						<option value="2014">2014</option>
						<option value="2013">2013</option>
						<option value="2012">2012</option>
						<option value="2011">2011</option>
						<option value="2010">2010</option>
						<option value="2009">2009</option>
						<option value="2008">2008</option>
						<option value="2007">2007</option>
						<option value="2006">2006</option>
						<option value="2005">2005</option>
						<option value="2004">2004</option>
						<option value="2003">2003</option>
						<option value="2002">2002</option>
						<option value="2001">2001</option>
						<option value="2000">2000</option>
						<option value="1999">1999</option>
						<option value="1998">1998</option>
						<option value="1997">1997</option>
						<option value="1996">1996</option>
						<option value="1995">1995</option>
						<option value="1994">1994</option>
						<option value="1993">1993</option>
						<option value="1992">1992</option>
						<option value="1991">1991</option>
						<option value="1990">1990</option>
						<option value="1989">1989</option>
						<option value="1988">1988</option>
						<option value="1987">1987</option>
						<option value="1986">1986</option>
						<option value="1985">1985</option>
						<option value="1984">1984</option>
						<option value="1983">1983</option>
						<option value="1982">1982</option>
						<option value="1981">1981</option>
						<option value="1980">1980</option>
						<option value="1979">1979</option>
						<option value="1978">1978</option>
						<option value="1977">1977</option>
						<option value="1976">1976</option>
						<option value="1975">1975</option>
						<option value="1974">1974</option>
						<option value="1973">1973</option>
						<option value="1972">1972</option>
						<option value="1971">1971</option>
						<option value="1970">1970</option>
						<option value="1969">1969</option>
						<option value="1968">1968</option>
						<option value="1967">1967</option>
						<option value="1966">1966</option>
						<option value="1965">1965</option>
						<option value="1964">1964</option>
						<option value="1963">1963</option>
						<option value="1962">1962</option>
						<option value="1961">1961</option>
						<option value="1960">1960</option>
						<option value="1959">1959</option>
						<option value="1958">1958</option>
						<option value="1957">1957</option>
						<option value="1956">1956</option>
						<option value="1955">1955</option>
						<option value="1954">1954</option>
						<option value="1953">1953</option>
						<option value="1952">1952</option>
						<option value="1951">1951</option>
						<option value="1950">1950</option>
						<option value="1949">1949</option>
						<option value="1948">1948</option>
						<option value="1947">1947</option>
						<option value="1946">1946</option>
						<option value="1945">1945</option>
						<option value="1944">1944</option>
						<option value="1943">1943</option>
						<option value="1942">1942</option>
						<option value="1941">1941</option>
						<option value="1940">1940</option>
						<option value="1939">1939</option>
						<option value="1938">1938</option>
						<option value="1937">1937</option>
						<option value="1936">1936</option>
						<option value="1935">1935</option>
						<option value="1934">1934</option>
						<option value="1933">1933</option>
						<option value="1932">1932</option>
						<option value="1931">1931</option>
						<option value="1930">1930</option>
						<option value="1929">1929</option>
						<option value="1928">1928</option>
						<option value="1927">1927</option>
						<option value="1926">1926</option>
						<option value="1925">1925</option>
						<option value="1924">1924</option>
						<option value="1923">1923</option>
						<option value="1922">1922</option>
						<option value="1921">1921</option>
						<option value="1920">1920</option>
						<option value="1919">1919</option>
						<option value="1918">1918</option>
						<option value="1917">1917</option>
						<option value="1916">1916</option>
						<option value="1915">1915</option>
						<option value="1914">1914</option>
						<option value="1913">1913</option>
						<option value="1912">1912</option>
						<option value="1911">1911</option>
						<option value="1910">1910</option>
						<option value="1909">1909</option>
						<option value="1908">1908</option>
						<option value="1907">1907</option>
						<option value="1906">1906</option>
						<option value="1905">1905</option>
						<option value="1904">1904</option>
						<option value="1903">1903</option>
					</select>
				</div>
			</form>
		</div>
		<div class="d_result" id="d_result_container">
			<p id="d_noteWar1">Le Tour n'a pas eu lieu à cause de la première guerre mondiale</p>
			<p id="d_noteWar2">Le Tour n'a pas eu lieu à cause de la seconde guerre mondiale</p>
			<div class="d_jerseybox">
				<div class="d_jerseybox_title">
					<h3><b>Le palmarès</b></h3>
				</div>
				<div class="d_alljerseys">
					<div class="d_jersey">
						<svg id="d_jersey_yellow" width="200" height="150" xmlns="http://www.w3.org/2000/svg">
							<path d="m 89.090449,58.876813 c 0,0 10.750319,3.289279 21.022831,0 m -10.511415,5.792009 c 7.212545,0 10.511415,-5.792009 10.511415,-5.792009 0,0 -0.0788,3.585342 2.31066,5.74996 2.38944,2.164618 15.13842,0.983267 19.3659,2.336153 4.22749,1.352887 11.85038,22.589214 11.85038,22.589214 0,0 -2.85277,9.387003 -10.29207,12.17616 l -7.67236,-14.369624 c 0,0 -1.33823,31.606694 -1.99081,41.213414 -0.65259,9.60672 -0.43506,16.33141 -0.43506,16.33141 M 99.601865,64.668822 c -7.212543,0 -10.511417,-5.792009 -10.511417,-5.792009 0,0 0.07879,3.585342 -2.310658,5.74996 -2.389449,2.164618 -15.138421,0.983267 -19.365908,2.336153 -4.227489,1.352887 -11.850383,22.589214 -11.850383,22.589214 0,0 2.852777,9.387003 10.292072,12.17616 l 7.672371,-14.369625 c 0,0 1.338225,31.606695 1.990811,41.213415 0.652587,9.60671 0.435058,16.33141 0.435058,16.33141 0,0 23.548617,4.83768 47.296109,0"
							style="fill:#FCF424;stroke:#9B9B9B;stroke-width:0.7;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stroke-linecap:round;fill-opacity:1"
							id="path2067" />
						</svg>
						<div class="d_wrap">
							<p id="d_winner"></p>
							<p id="d_winner_nat"></p>
						</div>
					</div>
					<div class="d_jersey">
						<svg id="d_jersey_green" width="200" height="150" xmlns="http://www.w3.org/2000/svg">
							<path d="m 89.090449,58.876813 c 0,0 10.750319,3.289279 21.022831,0 m -10.511415,5.792009 c 7.212545,0 10.511415,-5.792009 10.511415,-5.792009 0,0 -0.0788,3.585342 2.31066,5.74996 2.38944,2.164618 15.13842,0.983267 19.3659,2.336153 4.22749,1.352887 11.85038,22.589214 11.85038,22.589214 0,0 -2.85277,9.387003 -10.29207,12.17616 l -7.67236,-14.369624 c 0,0 -1.33823,31.606694 -1.99081,41.213414 -0.65259,9.60672 -0.43506,16.33141 -0.43506,16.33141 M 99.601865,64.668822 c -7.212543,0 -10.511417,-5.792009 -10.511417,-5.792009 0,0 0.07879,3.585342 -2.310658,5.74996 -2.389449,2.164618 -15.138421,0.983267 -19.365908,2.336153 -4.227489,1.352887 -11.850383,22.589214 -11.850383,22.589214 0,0 2.852777,9.387003 10.292072,12.17616 l 7.672371,-14.369625 c 0,0 1.338225,31.606695 1.990811,41.213415 0.652587,9.60671 0.435058,16.33141 0.435058,16.33141 0,0 23.548617,4.83768 47.296109,0"
							style="fill:#65CB86;stroke:#9B9B9B;stroke-width:0.7;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stroke-linecap:round;fill-opacity:1"
							id="path2067" />
						</svg>
						<div class="d_wrap">
							<p id="d_sprinter"></p>
							<p id="d_sprinter_nat"></p>
						</div>
					</div>
					<div class="d_jersey">
						<svg id="d_jersey_dots" width="200" height="150" xmlns="http://www.w3.org/2000/svg">
							<path d="m 89.090449,58.876813 c 0,0 10.750319,3.289279 21.022831,0 m -10.511415,5.792009 c 7.212545,0 10.511415,-5.792009 10.511415,-5.792009 0,0 -0.0788,3.585342 2.31066,5.74996 2.38944,2.164618 15.13842,0.983267 19.3659,2.336153 4.22749,1.352887 11.85038,22.589214 11.85038,22.589214 0,0 -2.85277,9.387003 -10.29207,12.17616 l -7.67236,-14.369624 c 0,0 -1.33823,31.606694 -1.99081,41.213414 -0.65259,9.60672 -0.43506,16.33141 -0.43506,16.33141 M 99.601865,64.668822 c -7.212543,0 -10.511417,-5.792009 -10.511417,-5.792009 0,0 0.07879,3.585342 -2.310658,5.74996 -2.389449,2.164618 -15.138421,0.983267 -19.365908,2.336153 -4.227489,1.352887 -11.850383,22.589214 -11.850383,22.589214 0,0 2.852777,9.387003 10.292072,12.17616 l 7.672371,-14.369625 c 0,0 1.338225,31.606695 1.990811,41.213415 0.652587,9.60671 0.435058,16.33141 0.435058,16.33141 0,0 23.548617,4.83768 47.296109,0"
							style="fill:url(#p_dots);stroke:#9B9B9B;stroke-width:0.7;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stroke-linecap:round;fill-opacity:1"
							id="path2067" />
						</svg>
						<div class="d_wrap">
							<p id="d_climber"></p>
							<p id="d_climber_nat"></p>
						</div>
					</div>
					<div class="d_jersey">
						<svg id="d_jersey_white" width="200" height="150" xmlns="http://www.w3.org/2000/svg">
							<path d="m 89.090449,58.876813 c 0,0 10.750319,3.289279 21.022831,0 m -10.511415,5.792009 c 7.212545,0 10.511415,-5.792009 10.511415,-5.792009 0,0 -0.0788,3.585342 2.31066,5.74996 2.38944,2.164618 15.13842,0.983267 19.3659,2.336153 4.22749,1.352887 11.85038,22.589214 11.85038,22.589214 0,0 -2.85277,9.387003 -10.29207,12.17616 l -7.67236,-14.369624 c 0,0 -1.33823,31.606694 -1.99081,41.213414 -0.65259,9.60672 -0.43506,16.33141 -0.43506,16.33141 M 99.601865,64.668822 c -7.212543,0 -10.511417,-5.792009 -10.511417,-5.792009 0,0 0.07879,3.585342 -2.310658,5.74996 -2.389449,2.164618 -15.138421,0.983267 -19.365908,2.336153 -4.227489,1.352887 -11.850383,22.589214 -11.850383,22.589214 0,0 2.852777,9.387003 10.292072,12.17616 l 7.672371,-14.369625 c 0,0 1.338225,31.606695 1.990811,41.213415 0.652587,9.60671 0.435058,16.33141 0.435058,16.33141 0,0 23.548617,4.83768 47.296109,0"
							style="fill:#ffffff;stroke:#9B9B9B;stroke-width:0.7;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stroke-linecap:round;fill-opacity:1"
							id="path2067" />
						</svg>
						<div class="d_wrap">
							<p id="d_young"></p>
							<p id="d_young_nat"></p>
						</div>
					</div>
					<div class="d_jersey">
						<svg id="d_jersey_red" width="200" height="150" xmlns="http://www.w3.org/2000/svg">
							<path d="m 89.090449,58.876813 c 0,0 10.750319,3.289279 21.022831,0 m -10.511415,5.792009 c 7.212545,0 10.511415,-5.792009 10.511415,-5.792009 0,0 -0.0788,3.585342 2.31066,5.74996 2.38944,2.164618 15.13842,0.983267 19.3659,2.336153 4.22749,1.352887 11.85038,22.589214 11.85038,22.589214 0,0 -2.85277,9.387003 -10.29207,12.17616 l -7.67236,-14.369624 c 0,0 -1.33823,31.606694 -1.99081,41.213414 -0.65259,9.60672 -0.43506,16.33141 -0.43506,16.33141 M 99.601865,64.668822 c -7.212543,0 -10.511417,-5.792009 -10.511417,-5.792009 0,0 0.07879,3.585342 -2.310658,5.74996 -2.389449,2.164618 -15.138421,0.983267 -19.365908,2.336153 -4.227489,1.352887 -11.850383,22.589214 -11.850383,22.589214 0,0 2.852777,9.387003 10.292072,12.17616 l 7.672371,-14.369625 c 0,0 1.338225,31.606695 1.990811,41.213415 0.652587,9.60671 0.435058,16.33141 0.435058,16.33141 0,0 23.548617,4.83768 47.296109,0"
							style="fill:#E82D2D;stroke:#9B9B9B;stroke-width:0.7;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stroke-linecap:round;fill-opacity:1"
							id="path2067" />
						</svg>
						<div class="d_wrap">
							<p id="d_fighter"></p>
							<p id="d_fighter_nat"></p>
						</div>
					</div>
				</div>
			</div>
			<div class="d_databox">
				<div class="d_databox_title">
					<h3><b>Les chiffres marquants</b></h3>
				</div>
				<div class="d_allnumbers">
					<div class="d_number">
						<p><span id="d_numberraces"></span> étapes</p>
					</div>
					<div class="d_number">
						<p><span id="d_distance"></span> kilomètres parcourus</p>
					</div>
					<div class="d_number">
						<p><span id="d_average"></span> km/h en moyenne</p>
					</div>
				</div>
			</div>
		</div>
		<div class="source">Source&nbsp;: <a href="https://www.letour.fr/fr" target="_blank">A.S.O.</a></div>
	</div>
</div>

<script type="text/javascript">
function generateDOM() {
	require(["jquery", "jquery-ui/core", "jquery-ui/tooltip",  "d3/3.5.6", "https://assets-decodeurs.lemonde.fr/decodeurs/assets/tourdefrance_palmares/tourdefrance.js"], function($, jqueryUICore, tooltip,d3, moment) {
		if (typeof d3 === "undefined") {
			d3 = d3v5;
		}
		let mobileDec = false;

		/* mobile boolean */
		if (isMobile() == true) {
			mobileDec = true;
		}

		/* detect mobile */
		function isMobile() {
			return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
		};

		/* Add spaces between thousands */
		function numberWithSpaces(x) {
			return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ").replace(".", ",");
		}

		/* Show slider value */
		let slider = document.getElementById("d_yearRange");
		let output = document.getElementById("d_inputValue");
		output.innerHTML = slider.value;
		showResult();
		slider.oninput = () => {
			output.innerHTML = slider.value;
		}
		/* Show data on slider release or select change */
		if (mobileDec == false) {
			document.getElementById("d_yearRange").addEventListener("mouseup", showResult);
		}
		else {
			document.getElementById("d_yearMobile").addEventListener("change", showResult);
		}

		function showResult() {
			let year = ((mobileDec == false) ? slider.value : document.getElementById("d_yearMobile").value);
			tdf.forEach((ligne, index) => {
				if ((year > 1914 && year < 1919) || (year > 1939 && year < 1947)) {
					if (year > 1914 && year < 1919) {
						$(".d_jerseybox").hide(500);
						$(".d_databox").hide(500);
						$("#d_noteWar1").show(500);
					}
					else if (year > 1939 && year < 1947) {
						$(".d_jerseybox").hide(500);
						$(".d_databox").hide(500);
						$("#d_noteWar2").show(500);
					}
				}
				else if (year == ligne.annee) {
					$("#d_noteWar1").hide(500);
					$("#d_noteWar2").hide(500);
					$(".d_jerseybox").show(500);
					$(".d_databox").show(500);
					if (year > 1999 &&  year < 2006) {
						$("#d_winner").html( `Désattribué` );
						$("#d_winner_nat").html( `après disqualification de Lance Armstrong` );
					}
					else if (year == 2010) {
						$("#d_winner").html(`${ligne.vainqueur_nom} (${ligne.vainqueur_nationalite})`);
						$("#d_winner_nat").html( `après déclassement d'Alberto Contador` );
					}
					else {
						$("#d_winner").html(ligne.vainqueur_nom);
						$("#d_winner_nat").html( `(${ligne.vainqueur_nationalite})` );
					}
					if (year < 1953) {
						$("#d_sprinter").html(`Pas avant 1953`);
						$("#d_sprinter_nat").html(``);
					}
					else {
						$("#d_sprinter").html(ligne.sprinter_nom);
						$("#d_sprinter_nat").html( `(${ligne.sprinter_nationalite})` );
					}
					if (year < 1933) {
						$("#d_climber").html(`Pas avant 1933`);
						$("#d_climber_nat").html(``);
					}
					else if (year == 2008) {
						$("#d_climber").html(`${ligne.grimpeur_nom} (${ligne.grimpeur_nationalite})`);
						$("#d_climber_nat").html( `après déclassement de Bernard Kohl` );
					}
					else if (year == 2009) {
						$("#d_climber").html(`${ligne.grimpeur_nom} (${ligne.grimpeur_nationalite})`);
						$("#d_climber_nat").html( `après déclassement de Franco Pellizotti` );
					}
					else {
						$("#d_climber").html(ligne.grimpeur_nom);
						$("#d_climber_nat").html( `(${ligne.grimpeur_nationalite})` );
					}
					if (year < 1975) {
						$("#d_young").html(`Pas avant 1975`);
						$("#d_young_nat").html(``);
					}
					else {
						$("#d_young").html(ligne.jeune_nom);
						$("#d_young_nat").html( `(${ligne.jeune_nationalite})` );
					}
					if (year < 1956) {
						$("#d_fighter").html(`Pas avant 1956`);
						$("#d_fighter_nat").html(``);
					}
					else if (year == 1961) {
						$("#d_fighter").html(ligne.combatif_nom);
						$("#d_fighter_nat").html(``);
					}
					else if (year == 1979) {
						$("#d_fighter").html(ligne.combatif_nom);
						$("#d_fighter_nat").html( `(${ligne.combatif_nationalite}), après déclassement de Joop Zoetemelk` );
					}
					else if (year == 2009) {
						$("#d_fighter").html(`Non attribué`);
						$("#d_fighter_nat").html( `après déclassement de Franco Pellizotti` );
					}
					else {
						$("#d_fighter").html(ligne.combatif_nom);
						$("#d_fighter_nat").html( `(${ligne.combatif_nationalite})` );
					}
					$("#d_numberraces").html(+ligne.nombre_etapes);
					$("#d_distance").html(numberWithSpaces(ligne.distance_parcourue_km));
					$("#d_average").html(ligne.moyenne_horaire_kmh);
			}
		});
	}
});
}
generateDOM();
window.onload = generateDOM;
</script>
